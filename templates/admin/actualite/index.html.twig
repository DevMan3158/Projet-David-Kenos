{% extends 'admin_base.html.twig' %}

{% block title %}Actualités index{% endblock %}

{% block body %}
    <section>

    <div class="titleBurger">
        <i class="fa-solid fa-bars" onClick="openMenu2()" id="burger2"></i>
        <h1 id="titleCrud">Gérer les actualités</h1>
    </div>

    <table class="table">
        <thead>
            <tr>
                <th>Contenu</th>
                <th>Image actu</th>
                <th>Image actu alt</th>
                <th>Créer</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
        {% for actualite in actualites %}
            <tr>
                <td>{{ actualite.contenu |length > 100 ? actualite.contenu |slice(0, 100) ~ '...' : actualite.contenu  }}</td>
                <td>{{ actualite.imageActu }}</td>
                <td>{{ actualite.imageActuAlt }}</td>
                <td>{{ actualite.cratedAt ? actualite.cratedAt|date('Y-m-d H:i:s') : '' }}</td>
                <td>
                    <a href="{{ path('app_actualite_show', {'id': actualite.id}) }}"><i class="fa-solid fa-eye"></i></a>
                    <button><a href="{{ path('app_actualite_edit', {'id': actualite.id}) }}"><i class="fa-solid fa-pen-to-square"></i>Modifier</a></button>
                    {{ include('admin/actualite/_delete_form.html.twig') }}
                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="6">Aucune actualité trouvées</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
{% include 'admin/pagination.html.twig' %}
    <button class="btn-add"><a href="{{ path('app_actualite_new') }}">Ajouter une actualité</a></button>
    </section>
{% endblock %}
